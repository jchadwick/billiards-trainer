
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Essential Accessibility Styles */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.sr-only.focus\:not-sr-only:focus,
.focus-within\:not-sr-only:focus-within .sr-only {
  position: static !important;
  width: auto !important;
  height: auto !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: normal !important;
}

.keyboard-user *:focus,
.keyboard-navigation *:focus {
  outline: 2px solid #2563eb !important;
  outline-offset: 2px !important;
}

.high-contrast {
  --bg-primary: #000000;
  --bg-secondary: #ffffff;
  --text-primary: #ffffff;
  --text-secondary: #000000;
  --border-color: #ffffff;
}

.reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@layer base {
  html {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    margin: 0;
    background-color: #f9fafb;
    color: #111827;
  }

  @media (prefers-color-scheme: dark) {
    body {
      background-color: #111827;
      color: #f9fafb;
    }
  }

  * {
    box-sizing: border-box;
  }
}

@layer components {
  /* Button components */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-secondary-200 text-secondary-900 hover:bg-secondary-300 focus:ring-secondary-500 dark:bg-secondary-700 dark:text-secondary-100 dark:hover:bg-secondary-600;
  }

  .btn-danger {
    @apply btn bg-error-600 text-white hover:bg-error-700 focus:ring-error-500;
  }

  /* Form components */
  .form-input {
    @apply block w-full rounded-md border-secondary-300 bg-white dark:border-secondary-600 dark:bg-secondary-800 text-secondary-900 dark:text-secondary-100 placeholder-secondary-400 dark:placeholder-secondary-500 focus:border-primary-500 focus:ring-primary-500 sm:text-sm;
  }

  .form-input--error {
    @apply border-error-300 dark:border-error-600 focus:border-error-500 focus:ring-error-500;
  }

  .form-label {
    @apply block text-sm font-medium text-secondary-700 dark:text-secondary-300;
  }

  .form-label--required::after {
    @apply text-error-500 ml-1;
    content: '*';
  }

  .form-help {
    @apply text-sm text-secondary-500 dark:text-secondary-400;
  }

  .form-error {
    @apply text-sm text-error-600 dark:text-error-400;
  }

  .form-group {
    @apply space-y-4;
  }

  .form-section {
    @apply space-y-6;
  }

  .form-actions {
    @apply flex items-center justify-end gap-3 pt-6 border-t border-secondary-200 dark:border-secondary-700;
  }

  /* Radio and checkbox improvements */
  .form-radio {
    @apply h-4 w-4 text-primary-600 border-secondary-300 dark:border-secondary-600 focus:ring-primary-500 dark:bg-secondary-800;
  }

  .form-checkbox {
    @apply h-4 w-4 text-primary-600 border-secondary-300 dark:border-secondary-600 rounded focus:ring-primary-500 dark:bg-secondary-800;
  }

  /* Switch component */
  .form-switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .form-switch--on {
    @apply bg-primary-600;
  }

  .form-switch--off {
    @apply bg-secondary-200 dark:bg-secondary-700;
  }

  .form-switch__thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white transition;
  }

  .form-switch__thumb--on {
    @apply translate-x-6;
  }

  .form-switch__thumb--off {
    @apply translate-x-1;
  }

  /* Select dropdown improvements */
  .form-select {
    @apply block w-full rounded-md border-secondary-300 bg-white dark:border-secondary-600 dark:bg-secondary-800 text-secondary-900 dark:text-secondary-100 focus:border-primary-500 focus:ring-primary-500 sm:text-sm;
  }

  .form-select--error {
    @apply border-error-300 dark:border-error-600 focus:border-error-500 focus:ring-error-500;
  }

  /* Custom dropdown menu */
  .dropdown-menu {
    @apply absolute z-10 mt-1 w-full rounded-md bg-white dark:bg-secondary-800 border border-secondary-300 dark:border-secondary-600 shadow-lg max-h-60 overflow-auto;
  }

  .dropdown-item {
    @apply px-3 py-2 text-sm text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 cursor-pointer;
  }

  .dropdown-item--selected {
    @apply bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-100;
  }

  .dropdown-item--disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Focus and accessibility improvements */

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .form-input {
      @apply border-2;
    }

    .btn {
      @apply border-2 border-current;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .btn, .form-input, .form-switch, .form-switch__thumb {
      @apply transition-none;
    }
  }
}
